(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{NumQ:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),a=t("tKwJ");class o{}var i=t("pMnS"),s=t("jXVt"),d=t("hNE6"),u=t("8iWb"),r=t("K3WT"),c=t("SVse"),m=t("s7LF"),p=t("rj8x"),h=t("mrSG"),g=t("wd/R"),v=t("irsC"),f=t("nbXG"),b=t("vPSP");class C{constructor(n,l,t,e,a){this.calendarioMock=n,this.calendarioService=l,this.recepcionistaService=t,this.localStorage=e,this.toastrService=a,this.isLoading=!1,this.dataEvent=null,this.dataCalendarioDia=null,this.listagemConsultorios=[]}ngOnInit(){return h.__awaiter(this,void 0,void 0,function*(){this.medico=this.localStorage.getJson("login").id,this.isLoading=!0,yield this.obterDadosIniciais(),yield this.recepcionistaService.obterConsultorios(this.medico).then(n=>h.__awaiter(this,void 0,void 0,function*(){n.sucesso?(this.listagemConsultorios=n.resultado,this.lugar=this.listagemConsultorios[0].idConsultorio,this.lugarEscolhido=this.lugar,yield this.obterConsulta()):(this.listagemConsultorios=null,this.toastrService.show("",n.error,{status:"danger",duration:b.a.timer,position:b.a.position}))})).catch(n=>{this.toastrService.show("",b.a.msgErroPadrao,{status:"danger",duration:b.a.timer,position:b.a.position})}).finally(()=>{this.isLoading=!1})})}obterConsulta(){return h.__awaiter(this,void 0,void 0,function*(){this.isLoading=!0;const n={idMedico:this.medico,idConsultorio:this.lugarEscolhido,dataInicial:g().subtract(1,"month").format("YYYY-MM-DD"),dataFinal:g().add(1,"month").format("YYYY-MM-DD")};yield this.recepcionistaService.obterConsultas(n).then(n=>{n.sucesso?(this.data=n.objeto,this.proximoDiaUtil()):this.toastrService.show("",n.mensagens[0],{status:"danger",duration:b.a.timer,position:b.a.position})}).catch(n=>{this.data=null}).finally(()=>{this.isLoading=!1})})}changeConsultorio(n){this.lugarEscolhido=n}formatarHeader(){return this.dataEvent?`${g(this.dataEvent).date()} de\n            ${this.calendarioService.formatarMes(g(this.dataEvent).month()).extenso} de\n            ${g(this.dataEvent).year()},\n            ${this.calendarioService.formatarDay(g(this.dataEvent).day()).extenso}`:"-"}proximoDiaUtil(){if(this.data=this.data.sort((n,l)=>g(n.data).toDate()-g(l.data).toDate()),g().isBefore(g(this.data[this.data.length-1].data))&&!g().isAfter(g(this.data[0].data)))this.dataEvent=g.min(this.data.map(n=>g(n.data))).toDate();else if(g().isBefore(g(this.data[this.data.length-1].data))&&g().isAfter(g(this.data[0].data))){const n=this.data.filter(n=>g(n.data).diff(g(),"days")>=0)[0];this.dataEvent=g(n.data).toDate()}else this.dataEvent=g.max(this.data.map(n=>g(n.data))).toDate();this.selecionarDiaNoCalendario()}selecionarDiaNoCalendario(){this.dataCalendarioDia=this.data.filter(n=>g(n.data).format("YYYY-MM-DD")===g(this.dataEvent).format("YYYY-MM-DD"))[0]}obterDadosIniciais(){return h.__awaiter(this,void 0,void 0,function*(){yield Promise.all([this.obterStatusConsulta(),this.obterTiposAtendimento()])})}obterStatusConsulta(){return h.__awaiter(this,void 0,void 0,function*(){yield this.recepcionistaService.obterStatusConsulta().then(n=>{n.sucesso?this.statusConsultas=n.objeto:this.toastrService.show("",n.mensagens[0],{status:"danger",duration:b.a.timer,position:b.a.position})})})}obterTiposAtendimento(){return h.__awaiter(this,void 0,void 0,function*(){yield this.recepcionistaService.obterTiposAtendimento().then(n=>{n.sucesso?this.tiposAtendimentos=n.objeto:this.toastrService.show("",n.mensagens[0],{status:"danger",duration:b.a.timer,position:b.a.position})})})}showCalendario(){for(const n of this.dataCalendarioDia.horarios)if(n.consulta)return!0;return!1}}var w=e["\u0275crt"]({encapsulation:0,styles:["nb-card-header[_ngcontent-%COMP%] {\n      align-items: center;\n\n      > h5 {\n      color: black;\n      }\n    }\n    nb-select[_ngcontent-%COMP%] {\n      min-width: 200px;\n    }\n\n    .msgError[_ngcontent-%COMP%] {\n      font-size: 15px;\n      font-weight: bold;\n    }"],data:{}});function y(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"nb-option",[],[[2,"selected",null],[1,"disabled",0],[8,"tabIndex",0]],[[null,"click"],[null,"keydown.space"],[null,"keydown.enter"]],function(n,l,t){var a=!0;return"click"===l&&(a=!1!==e["\u0275nov"](n,1).onClick(t)&&a),"keydown.space"===l&&(a=!1!==e["\u0275nov"](n,1).onClick(t)&&a),"keydown.enter"===l&&(a=!1!==e["\u0275nov"](n,1).onClick(t)&&a),a},s.jb,s.K)),e["\u0275did"](1,180224,[[1,4]],0,a.Cc,[a.o,e.ElementRef,e.ChangeDetectorRef],{value:[0,"value"]},null),(n()(),e["\u0275ted"](2,0,[""," "]))],function(n,l){n(l,1,0,l.context.$implicit.idConsultorio)},function(n,l){n(l,0,0,e["\u0275nov"](l,1).selectedClass,e["\u0275nov"](l,1).disabledAttribute,e["\u0275nov"](l,1).tabindex),n(l,2,0,l.context.$implicit.nome)})}function _(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"ngx-calendario-do-dia",[],null,null,null,d.b,d.a)),e["\u0275did"](1,638976,null,0,u.a,[r.a,a.fc],{data:[0,"data"],dataSelecionada:[1,"dataSelecionada"],verDiasLivre:[2,"verDiasLivre"],showHeader:[3,"showHeader"],statusConsultas:[4,"statusConsultas"],tiposAtendimentos:[5,"tiposAtendimentos"]},null)],function(n,l){var t=l.component;n(l,1,0,t.dataCalendarioDia,t.dataEvent,!1,!1,t.statusConsultas,t.tiposAtendimentos)},null)}function M(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,1,"span",[["class","msgError"]],null,null,null,null,null)),(n()(),e["\u0275ted"](-1,null,["Nenhuma Consulta marcada no dia."]))],null,null)}function S(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,5,"nb-card-body",[],null,null,null,s.V,s.w)),e["\u0275did"](1,49152,null,0,a.mb,[],null,null),(n()(),e["\u0275and"](16777216,null,0,1,null,_)),e["\u0275did"](3,16384,null,0,c.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),e["\u0275and"](16777216,null,0,1,null,M)),e["\u0275did"](5,16384,null,0,c.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,3,0,t.showCalendario()),n(l,5,0,!t.showCalendario())},null)}function D(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,16777216,null,null,23,"nb-card",[["nbSpinnerStatus","primary"]],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null],[2,"nb-spinner-container",null]],null,null,s.W,s.x)),e["\u0275did"](1,49152,null,0,a.nb,[],null,null),e["\u0275did"](2,81920,null,0,a.vd,[e.ViewContainerRef,e.ComponentFactoryResolver,e.Renderer2,e.ElementRef],{spinnerStatus:[0,"spinnerStatus"],nbSpinner:[1,"nbSpinner"]},null),(n()(),e["\u0275eld"](3,0,null,0,18,"nb-card-header",[["class","d-flex"]],null,null,null,s.Y,s.z)),e["\u0275did"](4,49152,null,0,a.qb,[],null,null),(n()(),e["\u0275eld"](5,0,null,0,1,"h5",[],null,null,null,null,null)),(n()(),e["\u0275ted"](6,null,["",""])),(n()(),e["\u0275eld"](7,0,null,0,14,"div",[["class","ml-auto d-flex"]],null,null,null,null,null)),(n()(),e["\u0275eld"](8,0,null,null,10,"nb-select",[["fullWidth",""],["placeholder","Consult\xf3rio"]],[[2,"appearance-outline",null],[2,"appearance-filled",null],[2,"appearance-hero",null],[2,"full-width",null],[2,"open",null],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,l,t){var e=!0,a=n.component;return"ngModelChange"===l&&(e=!1!==a.changeConsultorio(t)&&e),"ngModelChange"===l&&(e=!1!==(a.lugar=t)&&e),e},s.kb,s.L)),e["\u0275prd"](6144,null,a.o,null,[a.jd]),e["\u0275did"](10,5423104,null,2,a.jd,[a.k,a.Jc,e.ElementRef,a.Qc,a.de,e.ChangeDetectorRef],{fullWidth:[0,"fullWidth"],placeholder:[1,"placeholder"]},null),e["\u0275qud"](603979776,1,{options:1}),e["\u0275qud"](603979776,2,{customLabel:0}),e["\u0275prd"](1024,null,m.NG_VALUE_ACCESSOR,function(n){return[n]},[a.jd]),e["\u0275did"](14,671744,null,0,m.NgModel,[[8,null],[8,null],[8,null],[6,m.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),e["\u0275prd"](2048,null,m.NgControl,null,[m.NgModel]),e["\u0275did"](16,16384,null,0,m.NgControlStatus,[[4,m.NgControl]],null,null),(n()(),e["\u0275and"](16777216,null,1,1,null,y)),e["\u0275did"](18,278528,null,0,c.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),e["\u0275eld"](19,0,null,null,2,"button",[["class","ml-4"],["nbButton",""],["status","primary"]],[[2,"appearance-filled",null],[2,"appearance-outline",null],[2,"appearance-ghost",null],[2,"appearance-hero",null],[2,"full-width",null],[1,"aria-disabled",0],[2,"btn-disabled",null],[1,"tabindex",0],[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"shape-rectangle",null],[2,"shape-round",null],[2,"shape-semi-round",null],[2,"icon-start",null],[2,"icon-end",null],[2,"transitions",null]],[[null,"click"]],function(n,l,t){var a=!0,o=n.component;return"click"===l&&(a=!1!==e["\u0275nov"](n,20).onClick(t)&&a),"click"===l&&(a=!1!==o.obterConsulta()&&a),a},s.T,s.u)),e["\u0275did"](20,4243456,null,0,a.P,[e.Renderer2,e.ElementRef,e.ChangeDetectorRef],{status:[0,"status"]},null),(n()(),e["\u0275ted"](-1,0,["Buscar"])),(n()(),e["\u0275and"](16777216,null,1,1,null,S)),e["\u0275did"](23,16384,null,0,c.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,"primary",t.isLoading),n(l,10,0,"","Consult\xf3rio"),n(l,14,0,t.lugar),n(l,18,0,t.listagemConsultorios),n(l,20,0,"primary"),n(l,23,0,t.data)},function(n,l){var t=l.component;n(l,0,1,[e["\u0275nov"](l,1).tiny,e["\u0275nov"](l,1).small,e["\u0275nov"](l,1).medium,e["\u0275nov"](l,1).large,e["\u0275nov"](l,1).giant,e["\u0275nov"](l,1).primary,e["\u0275nov"](l,1).info,e["\u0275nov"](l,1).success,e["\u0275nov"](l,1).warning,e["\u0275nov"](l,1).danger,e["\u0275nov"](l,1).hasAccent,e["\u0275nov"](l,1).primaryAccent,e["\u0275nov"](l,1).infoAccent,e["\u0275nov"](l,1).successAccent,e["\u0275nov"](l,1).warningAccent,e["\u0275nov"](l,1).dangerAccent,e["\u0275nov"](l,2).isSpinnerExist]),n(l,6,0,t.formatarHeader()),n(l,8,1,[e["\u0275nov"](l,10).outline,e["\u0275nov"](l,10).filled,e["\u0275nov"](l,10).hero,e["\u0275nov"](l,10).fullWidth,e["\u0275nov"](l,10).isOpen,e["\u0275nov"](l,10).tiny,e["\u0275nov"](l,10).small,e["\u0275nov"](l,10).medium,e["\u0275nov"](l,10).large,e["\u0275nov"](l,10).giant,e["\u0275nov"](l,10).primary,e["\u0275nov"](l,10).info,e["\u0275nov"](l,10).success,e["\u0275nov"](l,10).warning,e["\u0275nov"](l,10).danger,e["\u0275nov"](l,10).rectangle,e["\u0275nov"](l,10).round,e["\u0275nov"](l,10).semiRound,e["\u0275nov"](l,16).ngClassUntouched,e["\u0275nov"](l,16).ngClassTouched,e["\u0275nov"](l,16).ngClassPristine,e["\u0275nov"](l,16).ngClassDirty,e["\u0275nov"](l,16).ngClassValid,e["\u0275nov"](l,16).ngClassInvalid,e["\u0275nov"](l,16).ngClassPending]),n(l,19,1,[e["\u0275nov"](l,20).filled,e["\u0275nov"](l,20).outline,e["\u0275nov"](l,20).ghost,e["\u0275nov"](l,20).hero,e["\u0275nov"](l,20).fullWidth,e["\u0275nov"](l,20).disabled,e["\u0275nov"](l,20).disabled,e["\u0275nov"](l,20).tabbable,e["\u0275nov"](l,20).tiny,e["\u0275nov"](l,20).small,e["\u0275nov"](l,20).medium,e["\u0275nov"](l,20).large,e["\u0275nov"](l,20).giant,e["\u0275nov"](l,20).primary,e["\u0275nov"](l,20).info,e["\u0275nov"](l,20).success,e["\u0275nov"](l,20).warning,e["\u0275nov"](l,20).danger,e["\u0275nov"](l,20).rectangle,e["\u0275nov"](l,20).round,e["\u0275nov"](l,20).semiRound,e["\u0275nov"](l,20).iconLeft,e["\u0275nov"](l,20).iconRight,e["\u0275nov"](l,20).transitions])})}function E(n){return e["\u0275vid"](0,[(n()(),e["\u0275eld"](0,0,null,null,2,"ngx-agenda-do-dia",[],null,null,null,D,w)),e["\u0275prd"](512,null,p.a,p.a,[]),e["\u0275did"](2,114688,null,0,C,[p.a,r.a,v.a,f.a,a.Nd],null,null)],function(n,l){n(l,2,0)},null)}var R=e["\u0275ccf"]("ngx-agenda-do-dia",C,E,{},{},[]),k=t("iInd"),L=t("QQfA"),I=t("IP0z"),N=t("bOtU"),A=t("zMNK"),z=t("/HVE"),x=t("hOhj"),F=t("dZEK"),Y=t("XoTT"),j=t("UoT3"),O=t("PCNd");class T{}t.d(l,"MedicoModuleNgFactory",function(){return P});var P=e["\u0275cmf"](o,[],function(n){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[i.a,s.k,s.h,s.j,s.b,s.c,s.g,s.e,s.f,s.o,R,s.l]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,c.NgLocalization,c.NgLocaleLocalization,[e.LOCALE_ID,[2,c["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,m["\u0275angular_packages_forms_forms_o"],m["\u0275angular_packages_forms_forms_o"],[]),e["\u0275mpd"](4608,a.Zc,a.Zc,[k.l]),e["\u0275mpd"](4608,L.d,L.d,[L.i,L.e,e.ComponentFactoryResolver,L.h,L.f,e.Injector,e.NgZone,c.DOCUMENT,I.b,[2,c.Location]]),e["\u0275mpd"](5120,L.j,L.k,[L.d]),e["\u0275mpd"](4608,a.id,a.id,[]),e["\u0275mpd"](4608,a.Lb,a.Bc,[e.LOCALE_ID]),e["\u0275mpd"](4608,c.DatePipe,c.DatePipe,[e.LOCALE_ID]),e["\u0275mpd"](4608,a.Z,a.Z,[a.Lb]),e["\u0275mpd"](4608,m.FormBuilder,m.FormBuilder,[]),e["\u0275mpd"](4608,a.Ub,a.Ub,[a.k,a.j,a.Qc,a.Jc,e.Injector,e.ComponentFactoryResolver]),e["\u0275mpd"](5120,N.g,N.f,[N.a,N.d]),e["\u0275mpd"](4608,N.i,N.i,[N.g]),e["\u0275mpd"](1073742336,c.CommonModule,c.CommonModule,[]),e["\u0275mpd"](1073742336,m["\u0275angular_packages_forms_forms_d"],m["\u0275angular_packages_forms_forms_d"],[]),e["\u0275mpd"](1073742336,m.FormsModule,m.FormsModule,[]),e["\u0275mpd"](1073742336,k.p,k.p,[[2,k.u],[2,k.l]]),e["\u0275mpd"](1073742336,a.qe,a.qe,[]),e["\u0275mpd"](1073742336,a.qc,a.qc,[]),e["\u0275mpd"](1073742336,a.gc,a.gc,[a.fc]),e["\u0275mpd"](1073742336,a.zc,a.zc,[]),e["\u0275mpd"](1073742336,a.K,a.K,[]),e["\u0275mpd"](1073742336,a.fe,a.fe,[]),e["\u0275mpd"](1073742336,a.G,a.G,[]),e["\u0275mpd"](1073742336,I.a,I.a,[]),e["\u0275mpd"](1073742336,A.f,A.f,[]),e["\u0275mpd"](1073742336,z.b,z.b,[]),e["\u0275mpd"](1073742336,x.b,x.b,[]),e["\u0275mpd"](1073742336,L.g,L.g,[]),e["\u0275mpd"](1073742336,a.tb,a.tb,[]),e["\u0275mpd"](1073742336,a.sb,a.sb,[]),e["\u0275mpd"](1073742336,a.Hc,a.Hc,[]),e["\u0275mpd"](1073742336,a.Q,a.Q,[]),e["\u0275mpd"](1073742336,a.hd,a.hd,[]),e["\u0275mpd"](1073742336,a.pd,a.pd,[]),e["\u0275mpd"](1073742336,a.Ib,a.Ib,[]),e["\u0275mpd"](1073742336,F.f,F.f,[]),e["\u0275mpd"](1073742336,a.ic,a.ic,[]),e["\u0275mpd"](1073742336,a.rb,a.rb,[]),e["\u0275mpd"](1073742336,a.Fb,a.Fb,[]),e["\u0275mpd"](1073742336,a.ld,a.ld,[]),e["\u0275mpd"](1073742336,Y.a,Y.a,[a.fc]),e["\u0275mpd"](1073742336,a.Sb,a.Sb,[]),e["\u0275mpd"](1073742336,a.vc,a.vc,[]),e["\u0275mpd"](1073742336,a.W,a.W,[]),e["\u0275mpd"](1073742336,a.M,a.M,[]),e["\u0275mpd"](1073742336,a.hb,a.hb,[]),e["\u0275mpd"](1073742336,a.X,a.X,[]),e["\u0275mpd"](1073742336,a.Qd,a.Qd,[]),e["\u0275mpd"](1073742336,m.ReactiveFormsModule,m.ReactiveFormsModule,[]),e["\u0275mpd"](1073742336,N.e,N.e,[]),e["\u0275mpd"](1073742336,j.CurrencyMaskModule,j.CurrencyMaskModule,[]),e["\u0275mpd"](1073742336,O.b,O.b,[]),e["\u0275mpd"](1073742336,T,T,[]),e["\u0275mpd"](1073742336,a.wd,a.wd,[]),e["\u0275mpd"](1073742336,o,o,[]),e["\u0275mpd"](256,a.j,{},[]),e["\u0275mpd"](256,N.d,void 0,[]),e["\u0275mpd"](256,N.a,N.h,[]),e["\u0275mpd"](1024,k.j,function(){return[[{path:"",redirectTo:"agenda-do-dia",pathMatch:"full"},{path:"agenda-do-dia",component:C}]]},[])])})}}]);