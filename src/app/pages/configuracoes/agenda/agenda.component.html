<nb-card nbSpinnerStatus="primary">
    <nb-card-header>
        Configurações da agenda
    </nb-card-header>
    <nb-card-body>
        <nb-tabset fullWidth (changeTab)="changeTab($event)">
            <nb-tab tabTitle="Calendário" tabIcon="calendar-outline" [nbSpinner]="isLoadingCalendario"
                nbSpinnerStatus="primary">
                <ng-container *ngIf="showContent">
                    <ng-container *ngIf="stepCalendario === 1">
                        <div class="mb-4">
                            <h5>Selecione um médico</h5>
                        </div>
                        <div class="mb-2 d-flex mt-2">
                            <div class="w-100">
                                <ngx-input-simple (ngModelChange)="filtrarMedico($event)" [feedback]="false"
                                    [(ngModel)]="search" placeholder="Buscar médico">
                                </ngx-input-simple>
                            </div>
                        </div>
                        <nb-list>
                            <nb-list-item *ngFor="let user of medicosFiltrado" (click)="selecionarMedico(user)">
                                <nb-user [name]="user.nome" title="Médico" [picture]="user.urlFoto">
                                </nb-user>
                                <div class="ml-auto">
                                    <nb-icon icon="chevron-right-outline"></nb-icon>
                                </div>
                            </nb-list-item>
                        </nb-list>
                    </ng-container>
                    <ng-container *ngIf="stepCalendario === 2">
                        <div class="mb-2 d-flex mt-2 header mb-4">
                            <nb-icon class="mr-4" (click)="setStepCalendario(1)" icon="chevron-left-outline"></nb-icon>
                            <!-- <div class="w-100 mr-4">
                                <ngx-input-simple (ngModelChange)="filtrarMedico($event)" [feedback]="false"
                                    [(ngModel)]="search" placeholder="Buscar agenda">
                                </ngx-input-simple>
                            </div> -->
                            <div class="ml-auto">
                                <button nbButton hero status="primary" (click)="adicionarCalendario()">Adicionar Agenda</button>
                            </div>
                        </div>
                        <ng2-smart-table [settings]="settingsCalendario" [source]="source"
                            (custom)="customAction($event)">
                        </ng2-smart-table>
                    </ng-container>
                </ng-container>
                <span *ngIf="!showContent && msgErro" class="msgErro">{{msgErro}}</span>
            </nb-tab>
            <nb-tab tabTitle="Bloqueios" tabIcon="lock-outline">
                Tab content 2
            </nb-tab>
        </nb-tabset>
    </nb-card-body>
</nb-card>